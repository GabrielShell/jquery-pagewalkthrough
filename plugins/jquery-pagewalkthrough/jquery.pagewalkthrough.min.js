(function($,window,document,undefined){var _globalWalkthrough={},_elements=[],_activeWalkthrough,_activeId,_hasDefault=true,_counter=0,_isCookieLoad,_firstTimeLoad=true,_onLoad=true,_index=0,_id=0,_isWalkthroughActive=true,$jpwOverlay=$('<div id="jpwOverlay"></div>'),$jpWalkthrough=$('<div id="jpWalkthrough"></div>'),$jpwTooltip=$('<div id="jpwTooltip"></div>');var methods={isActive:function(){return!!_isWalkthroughActive},isPageWalkthroughActive:function(){console.warn("Deprecated: function isPageWalkthroughActive is "+"deprecated and will be removed in version 2; please use isActive"+"instead.");if(_isWalkthroughActive){return true}return false},currIndex:function(){return _index},init:function(options){var options=$.extend(true,{},$.fn.pagewalkthrough.defaults,options);var that=this;if(!options.name){throw new Error("Must provide a unique name for a tour")}return this.each(function(i){var $this=$(this);options=options||{};options.elementID=options.name;_globalWalkthrough[options.name]=options;_elements.push(options.name);if(options.onLoad){_counter++}if(_counter==1&&_onLoad){_activeId=options.name;_activeWalkthrough=_globalWalkthrough[_activeId];_onLoad=false}if(i+1===that.length&&_counter==0){_activeId=options.name;_activeWalkthrough=_globalWalkthrough[_elements[0]];_hasDefault=false}$(window).scroll(function(){if(_isWalkthroughActive&&_activeWalkthrough.steps[_index].stayFocus){clearTimeout($.data(this,"scrollTimer"));$.data(this,"scrollTimer",setTimeout(function(){scrollToTarget(_activeWalkthrough)},250))}return false})})},renderOverlay:function(){if(_counter>1){debug("Warning: Only first walkthrough will be shown onLoad as default")}_isCookieLoad=getCookie("_walkthrough-"+_activeId);if(_isCookieLoad==undefined){_isWalkthroughActive=true;buildWalkthrough();showButton("jpwClose","body");scrollToTarget();setTimeout(function(){if(isFirstStep()&&_firstTimeLoad){if(!onAfterShow())return}},100)}else{onCookieLoad(_globalWalkthrough)}},restart:function(e){if(isFirstStep())return;_index=0;if(!onRestart(e))return;if(!onEnter(e))return;buildWalkthrough();scrollToTarget()},close:function(target){_index=0;_firstTimeLoad=true;_isWalkthroughActive=false;if(target){setCookie("_walkthrough-"+target,0,365);_isCookieLoad=getCookie("_walkthrough-"+target)}else{setCookie("_walkthrough-"+_activeId,0,365);_isCookieLoad=getCookie("_walkthrough-"+_activeId)}$jpwOverlay.fadeOut("slow",function(){$(this).remove()});$jpWalkthrough.fadeOut("slow",function(){$(this).html("").remove()});$("#jpwClose").fadeOut("slow",function(){$(this).remove()})},show:function(target){_isWalkthroughActive=true;_firstTimeLoad=true;_activeId=target||_activeId;_activeWalkthrough=_globalWalkthrough[_activeId];buildWalkthrough();showButton("jpwClose","body");scrollToTarget();if(isFirstStep()&&_firstTimeLoad){if(!onAfterShow())return}},next:function(e){_firstTimeLoad=false;if(isLastStep())return;if(!onLeave(e))return;_index=parseInt(_index)+1;if(!onEnter(e))return;buildWalkthrough();scrollToTarget()},prev:function(e){if(isFirstStep())return;if(!onLeave(e))return;_index=parseInt(_index)-1;if(!onEnter(e))return;buildWalkthrough();scrollToTarget()},getOptions:function(activeWalkthrough){var _wtObj;if(activeWalkthrough){_wtObj={};_wtObj=_activeWalkthrough}else{_wtObj=[];for(var wt in _globalWalkthrough){_wtObj.push(_globalWalkthrough[wt])}}return _wtObj}};function buildWalkthrough(){var options=_activeWalkthrough;if(isFirstStep()&&_firstTimeLoad){if(!onBeforeShow())return}options.steps[_index]=$.extend(true,{},$.fn.pagewalkthrough.defaults.steps[0],options.steps[_index]);if(options.steps[_index].popup.type!="modal"&&options.steps[_index].popup.type!="nohighlight"){$jpWalkthrough.html("");if(options.steps[_index].wrapper==""||options.steps[_index].wrapper==undefined){alert('Your walkthrough position is: "'+options.steps[_index].popup.type+'" but wrapper is empty or undefined. Please check your "'+_activeId+'" wrapper parameter.');return}var topOffset=cleanValue($(options.steps[_index].wrapper).offset().top);var leftOffset=cleanValue($(options.steps[_index].wrapper).offset().left);var transparentWidth=cleanValue($(options.steps[_index].wrapper).innerWidth())||cleanValue($(options.steps[_index].wrapper).width());var transparentHeight=cleanValue($(options.steps[_index].wrapper).innerHeight())||cleanValue($(options.steps[_index].wrapper).height());var marginTop=cssSyntax(options.steps[_index].margin,"top"),marginRight=cssSyntax(options.steps[_index].margin,"right"),marginBottom=cssSyntax(options.steps[_index].margin,"bottom"),marginLeft=cssSyntax(options.steps[_index].margin,"left"),roundedCorner=30,overlayClass="",killOverlay="";var overlayTopStyle={height:cleanValue(parseInt(topOffset)-(parseInt(marginTop)+roundedCorner))};var overlayLeftStyle={top:overlayTopStyle.height,width:cleanValue(parseInt(leftOffset)-(parseInt(marginLeft)+roundedCorner)),height:cleanValue(parseInt(transparentHeight)+roundedCorner*2+parseInt(marginTop)+parseInt(marginBottom))};if(options.steps[_index].overlay==undefined||options.steps[_index].overlay){overlayClass="overlay"}else{overlayClass="noOverlay";killOverlay="killOverlay"}var overlayTop=$('<div id="overlayTop" class="'+overlayClass+'"></div>').css(overlayTopStyle).appendTo($jpWalkthrough);var overlayLeft=$('<div id="overlayLeft" class="'+overlayClass+'"></div>').css(overlayLeftStyle).appendTo($jpWalkthrough);if(!options.steps[_index].accessible){var highlightedAreaStyle={top:overlayTopStyle.height,left:overlayLeftStyle.width,topCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight))},middleLeft:{height:cleanValue(parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom))},middleCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight)),height:cleanValue(parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom))},middleRight:{height:cleanValue(parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom))},bottomCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight))}};var highlightedArea=$('<div id="highlightedArea"></div>').css(highlightedAreaStyle).appendTo($jpWalkthrough);highlightedArea.html("<div>"+'<div id="topLeft" class="'+killOverlay+'"></div>'+'<div id="topCenter" class="'+killOverlay+'" style="width:'+highlightedAreaStyle.topCenter.width+';"></div>'+'<div id="topRight" class="'+killOverlay+'"></div>'+"</div>"+'<div style="clear: left;">'+'<div id="middleLeft" class="'+killOverlay+'" style="height:'+highlightedAreaStyle.middleLeft.height+';"></div>'+'<div id="middleCenter" class="'+killOverlay+'" style="width:'+highlightedAreaStyle.middleCenter.width+";height:"+highlightedAreaStyle.middleCenter.height+'">&nbsp;</div>'+'<div id="middleRight" class="'+killOverlay+'" style="height:'+highlightedAreaStyle.middleRight.height+';"></div>'+"</div>"+'<div style="clear: left;">'+'<div id="bottomLeft" class="'+killOverlay+'"></div>'+'<div id="bottomCenter" class="'+killOverlay+'" style="width:'+highlightedAreaStyle.bottomCenter.width+';"></div>'+'<div id="bottomRight" class="'+killOverlay+'"></div>'+"</div>")}else{var highlightedAreaStyle={top:overlayTopStyle.height,left:overlayLeftStyle.width,topCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight))}};var accessibleStyle={topAccessible:{position:"absolute",top:overlayTopStyle.height,left:overlayLeftStyle.width,topCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight))}},middleAccessible:{position:"absolute",top:cleanValue(parseInt(overlayTopStyle.height)+roundedCorner),left:overlayLeftStyle.width,middleLeft:{height:cleanValue(parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom))},middleRight:{height:cleanValue(parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom)),right:cleanValue(parseInt(transparentWidth)+roundedCorner+parseInt(marginRight)+parseInt(marginLeft))}},bottomAccessible:{left:overlayLeftStyle.width,top:cleanValue(parseInt(overlayTopStyle.height)+roundedCorner+parseInt(transparentHeight)+parseInt(marginTop)+parseInt(marginBottom)),bottomCenter:{width:cleanValue(parseInt(transparentWidth)+parseInt(marginLeft)+parseInt(marginRight))}}};var highlightedArea=$('<div id="topAccessible" style="position:'+accessibleStyle.topAccessible.position+"; top:"+accessibleStyle.topAccessible.top+";left:"+accessibleStyle.topAccessible.left+'">'+'<div id="topLeft" class="'+killOverlay+'"></div>'+'<div id="topCenter" class="'+killOverlay+'" style="width:'+accessibleStyle.topAccessible.topCenter.width+'"></div>'+'<div id="topRight" class="'+killOverlay+'"></div>'+"</div>"+'<div id="middleAccessible" class="'+killOverlay+'" style="clear: left;position:'+accessibleStyle.middleAccessible.position+"; top:"+accessibleStyle.middleAccessible.top+";left:"+accessibleStyle.middleAccessible.left+';">'+'<div id="middleLeft" class="'+killOverlay+'" style="height:'+accessibleStyle.middleAccessible.middleLeft.height+';"></div>'+'<div id="middleRight" class="'+killOverlay+'" style="position:absolute;right:-'+accessibleStyle.middleAccessible.middleRight.right+";height:"+accessibleStyle.middleAccessible.middleRight.height+';"></div>'+"</div>"+'<div id="bottomAccessible" style="clear: left;position:absolute;left:'+accessibleStyle.bottomAccessible.left+";top:"+accessibleStyle.bottomAccessible.top+';">'+'<div id="bottomLeft" class="'+killOverlay+'"></div>'+'<div id="bottomCenter" class="'+killOverlay+'" style="width:'+accessibleStyle.bottomAccessible.bottomCenter.width+';"></div>'+'<div id="bottomRight" class="'+killOverlay+'"></div>'+"</div>").appendTo($jpWalkthrough)}var highlightedAreaWidth=options.steps[_index].accessible?parseInt(accessibleStyle.topAccessible.topCenter.width)+roundedCorner*2:parseInt(highlightedAreaStyle.topCenter.width)+roundedCorner*2;var overlayRightStyle={left:cleanValue(parseInt(overlayLeftStyle.width)+highlightedAreaWidth),height:overlayLeftStyle.height,top:overlayLeftStyle.top,width:cleanValue(windowWidth()-(parseInt(overlayLeftStyle.width)+highlightedAreaWidth))};var overlayRight=$('<div id="overlayRight" class="'+overlayClass+'"></div>').css(overlayRightStyle).appendTo($jpWalkthrough);var overlayBottomStyle={height:cleanValue($(document).height()-(parseInt(overlayTopStyle.height)+parseInt(overlayLeftStyle.height))),top:cleanValue(parseInt(overlayTopStyle.height)+parseInt(overlayLeftStyle.height))};var overlayBottom=$('<div id="overlayBottom" class="'+overlayClass+'"></div>').css(overlayBottomStyle).appendTo($jpWalkthrough);if($("#jpWalkthrough").length){$("#jpWalkthrough").remove()}$jpWalkthrough.appendTo("body").show();if(options.steps[_index].accessible){showTooltip(true)}else{showTooltip(false)}}else if(options.steps[_index].popup.type=="modal"){if($("#jpWalkthrough").length){$("#jpWalkthrough").remove()}if(options.steps[_index].overlay==undefined||options.steps[_index].overlay){showModal(true)}else{showModal(false)}}else{if($("#jpWalkthrough").length){$("#jpWalkthrough").remove()}if(options.steps[_index].overlay==undefined||options.steps[_index].overlay){noHighlight(true)}else{noHighlight(false)}}showButton("jpwPrevious");showButton("jpwNext");showButton("jpwFinish")}function showModal(isOverlay){var options=_activeWalkthrough,overlayClass="";if(isOverlay){$jpwOverlay.appendTo("body").show()}else{if($("#jpwOverlay").length){$("#jpwOverlay").remove()}}var textRotation=setRotation(parseInt(options.steps[_index].popup.contentRotation));$jpwTooltip.css({position:"absolute",left:"50%",top:"20%","margin-left":-(parseInt(options.steps[_index].popup.width)+60)/2+"px","z-index":"9999"});var tooltipSlide=$('<div id="tooltipTop">'+'<div id="topLeft"></div>'+'<div id="topRight"></div>'+"</div>"+'<div id="tooltipInner">'+"</div>"+'<div id="tooltipBottom">'+'<div id="bottomLeft"></div>'+'<div id="bottomRight"></div>'+"</div>");$jpWalkthrough.html("");$jpwTooltip.html("").append(tooltipSlide).wrapInner('<div id="tooltipWrapper" style="width:'+cleanValue(parseInt(options.steps[_index].popup.width)+30)+'"></div>').append('<div id="bottom-scratch"></div>').appendTo($jpWalkthrough);$jpWalkthrough.appendTo("body");$("#tooltipWrapper").css(textRotation);$(options.steps[_index].popup.content).clone().appendTo("#tooltipInner").show();$jpwTooltip.css("margin-top",-($jpwTooltip.height()/2)+"px");$jpWalkthrough.show()}function showTooltip(isAccessible){var opt=_activeWalkthrough;var tooltipWidth=opt.steps[_index].popup.width==""?300:opt.steps[_index].popup.width,top,left,arrowTop,arrowLeft,roundedCorner=30,overlayHoleWidth=isAccessible?$("#topAccessible").innerWidth()+roundedCorner*2||$("#topAccessible").width()+roundedCorner*2:$("#highlightedArea").innerWidth()||$("#highlightedArea").width(),overlayHoleHeight=isAccessible?$("#middleAccessible").innerHeight()+roundedCorner*2||$("#middleAccessible").height()+roundedCorner*2:$("#highlightedArea").innerHeight()||$("#highlightedArea").height(),overlayHoleTop=isAccessible?$("#topAccessible").offset().top:$("#highlightedArea").offset().top,overlayHoleLeft=isAccessible?$("#topAccessible").offset().left:$("#highlightedArea").offset().left,arrow=30,draggable="";var textRotation=opt.steps[_index].popup.contentRotation==undefined||parseInt(opt.steps[_index].popup.contentRotation)==0?clearRotation():setRotation(parseInt(opt.steps[_index].popup.contentRotation));if($("#jpwOverlay").length){$("#jpwOverlay").remove()}var tooltipSlide=$('<div id="tooltipTop">'+'<div id="topLeft"></div>'+'<div id="topRight"></div>'+"</div>"+'<div id="tooltipInner">'+"</div>"+'<div id="tooltipBottom">'+'<div id="bottomLeft"></div>'+'<div id="bottomRight"></div>'+"</div>");$jpwTooltip.html("").css({"margin-left":"0","margin-top":"0",position:"absolute","z-index":"9999"}).append(tooltipSlide).wrapInner('<div id="tooltipWrapper" style="width:'+cleanValue(parseInt(opt.steps[_index].popup.width)+30)+'"></div>').appendTo($jpWalkthrough);if(opt.steps[_index].popup.draggable){$jpwTooltip.append('<div id="drag-area" class="draggable-area"></div>')}$jpWalkthrough.appendTo("body").show();$("#tooltipWrapper").css(textRotation);$(opt.steps[_index].popup.content).clone().appendTo("#tooltipInner").show();$jpwTooltip.append('<span class="'+opt.steps[_index].popup.position+'">&nbsp;</span>');switch(opt.steps[_index].popup.position){case"top":top=overlayHoleTop-($jpwTooltip.height()+arrow/2)+parseInt(opt.steps[_index].popup.offsetVertical)-86;if(isAccessible){left=overlayHoleLeft+overlayHoleWidth/2-$jpwTooltip.width()/2-40+parseInt(opt.steps[_index].popup.offsetHorizontal)}else{left=overlayHoleLeft+overlayHoleWidth/2-$jpwTooltip.width()/2-5+parseInt(opt.steps[_index].popup.offsetHorizontal)}arrowLeft=$jpwTooltip.width()/2-arrow;arrowTop="";break;case"right":top=overlayHoleTop-arrow/2+parseInt(opt.steps[_index].popup.offsetVertical);left=overlayHoleLeft+overlayHoleWidth+arrow/2+parseInt(opt.steps[_index].popup.offsetHorizontal)+105;arrowTop=arrow;arrowLeft="";break;case"bottom":if(isAccessible){top=overlayHoleTop+overlayHoleHeight+parseInt(opt.steps[_index].popup.offsetVertical)+86;left=overlayHoleLeft+overlayHoleWidth/2-$jpwTooltip.width()/2-40+parseInt(opt.steps[_index].popup.offsetHorizontal)}else{top=overlayHoleTop+overlayHoleHeight+parseInt(opt.steps[_index].popup.offsetVertical)+86;left=overlayHoleLeft+overlayHoleWidth/2-$jpwTooltip.width()/2-5+parseInt(opt.steps[_index].popup.offsetHorizontal)}arrowLeft=$jpwTooltip.width()/2-arrow;arrowTop="";break;case"left":top=overlayHoleTop-arrow/2+parseInt(opt.steps[_index].popup.offsetVertical);left=overlayHoleLeft-$jpwTooltip.width()-arrow+parseInt(opt.steps[_index].popup.offsetHorizontal)-105;arrowTop=arrow;arrowLeft="";break}$("#jpwTooltip span."+opt.steps[_index].popup.position).css({left:cleanValue(arrowLeft)});$jpwTooltip.css({top:cleanValue(top),left:cleanValue(left)});$jpWalkthrough.show()}function noHighlight(isOverlay){var opt=_activeWalkthrough,overlayClass="";var wrapperTop=$(opt.steps[_index].wrapper).offset().top,wrapperLeft=$(opt.steps[_index].wrapper).offset().left,wrapperWidth=$(opt.steps[_index].wrapper).width(),wrapperHeight=$(opt.steps[_index].wrapper).height(),arrow=30,draggable="",top,left,arrowTop,arrowLeft;if(isOverlay){$jpwOverlay.appendTo("body").show()}else{if($("#jpwOverlay").length){$("#jpwOverlay").remove()}}$jpwTooltip.css(clearRotation());var textRotation=opt.steps[_index].popup.contentRotation=="undefined"||opt.steps[_index].popup.contentRotation==0?"":setRotation(parseInt(opt.steps[_index].popup.contentRotation));$jpwTooltip.css({position:"absolute","margin-left":"0px","margin-top":"0px","z-index":"9999"});var tooltipSlide=$('<div id="tooltipTop">'+'<div id="topLeft"></div>'+'<div id="topRight"></div>'+"</div>"+'<div id="tooltipInner">'+"</div>"+'<div id="tooltipBottom">'+'<div id="bottomLeft"></div>'+'<div id="bottomRight"></div>'+"</div>");$jpWalkthrough.html("");$jpwTooltip.html("").append(tooltipSlide).wrapInner('<div id="tooltipWrapper" style="width:'+cleanValue(parseInt(opt.steps[_index].popup.width)+30)+'"></div>').appendTo($jpWalkthrough);if(opt.steps[_index].popup.draggable){$jpwTooltip.append('<div id="drag-area" class="draggable-area"></div>')}$jpWalkthrough.appendTo("body");$("#tooltipWrapper").css(textRotation);$(opt.steps[_index].popup.content).clone().appendTo("#tooltipInner").show();$jpwTooltip.append('<span class="'+opt.steps[_index].popup.position+'">&nbsp;</span>');switch(opt.steps[_index].popup.position){case"top":top=wrapperTop-($jpwTooltip.height()+arrow/2)+parseInt(opt.steps[_index].popup.offsetVertical)-86;left=wrapperLeft+wrapperWidth/2-$jpwTooltip.width()/2-5+parseInt(opt.steps[_index].popup.offsetHorizontal);arrowLeft=$jpwTooltip.width()/2-arrow;arrowTop="";break;case"right":top=wrapperTop-arrow/2+parseInt(opt.steps[_index].popup.offsetVertical);left=wrapperLeft+wrapperWidth+arrow/2+parseInt(opt.steps[_index].popup.offsetHorizontal)+105;arrowTop=arrow;arrowLeft="";break;case"bottom":top=wrapperTop+wrapperHeight+parseInt(opt.steps[_index].popup.offsetVertical)+86;left=wrapperLeft+wrapperWidth/2-$jpwTooltip.width()/2-5+parseInt(opt.steps[_index].popup.offsetHorizontal);arrowLeft=$jpwTooltip.width()/2-arrow;arrowTop="";break;case"left":top=wrapperTop-arrow/2+parseInt(opt.steps[_index].popup.offsetVertical);left=wrapperLeft-$jpwTooltip.width()-arrow+parseInt(opt.steps[_index].popup.offsetHorizontal)-105;arrowTop=arrow;arrowLeft="";break}$("#jpwTooltip span."+opt.steps[_index].popup.position).css({left:cleanValue(arrowLeft)});$jpwTooltip.css({top:cleanValue(top),left:cleanValue(left)});$jpWalkthrough.show()}function scrollToTarget(){var options=_activeWalkthrough;if(options.steps[_index].autoScroll||options.steps[_index].autoScroll==undefined){if(options.steps[_index].popup.position!="modal"){var windowHeight=$(window).height()||$(window).innerHeight(),targetOffsetTop=$jpwTooltip.offset().top,targetHeight=$jpwTooltip.height()||$jpwTooltip.innerHeight(),overlayTop=$("#overlayTop").height();$("html,body").animate({scrollTop:targetOffsetTop+targetHeight/2-windowHeight/2},options.steps[_index].scrollSpeed)}else{$("html,body").animate({scrollTop:0},options.steps[_index].scrollSpeed)}}}function showButton(id,appendTo){if($("#"+id).length)return;var btn=_activeWalkthrough.buttons[id];appendTo=appendTo||"#tooltipWrapper";if(!btn)return;if(typeof btn.show==="function"&&!btn.show()||!btn.show){return}$(appendTo).append($("<a />",{id:id,html:btn.i18n}))}function onCookieLoad(options){for(i=0;i<_elements.length;i++){if(typeof options[_elements[i]].onCookieLoad==="function"){options[_elements[i]].onCookieLoad.call(this)}}return false}function onLeave(e){var options=_activeWalkthrough;if(typeof options.steps[_index].onLeave==="function"){if(!options.steps[_index].onLeave.call(this,e,_index)){return false}}return true}function onEnter(e){var options=_activeWalkthrough;if(typeof options.steps[_index].onEnter==="function"){if(!options.steps[_index].onEnter.call(this,e,_index)){return false}}return true}function onClose(){var options=_activeWalkthrough;if(typeof options.onClose==="function"){if(!options.onClose.call(this)){return false}}methods.close();return true}function onRestart(e){var options=_activeWalkthrough;_isWalkthroughActive=true;methods.restart(e);scrollToTarget();if(typeof options.onRestart==="function"){if(!options.onRestart.call(this)){return false}}return true}function onBeforeShow(){var options=_activeWalkthrough||{};_index=0;if(typeof options.onBeforeShow==="function"){if(!options.onBeforeShow.call(this)){return false}}return true}function onAfterShow(){var options=_activeWalkthrough;_index=0;if(typeof options.onAfterShow==="function"){if(!options.onAfterShow.call(this)){return false}}return true}function windowWidth(){return $(window).innerWidth()||$(window).width()}function debug(message){if(window.console&&window.console.log)window.console.log(message)}function clearRotation(){var rotationStyle={"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none","-o-transform":"none",filter:"none","-ms-transform":"none"};return rotationStyle}function setRotation(angle){var M11,M12,M21,M22,deg2rad,rad;deg2rad=Math.PI*2/360;rad=angle*deg2rad;M11=Math.cos(rad);M12=Math.sin(rad);M21=Math.sin(rad);M22=Math.cos(rad);var rotationStyle={"-webkit-transform":"rotate("+parseInt(angle)+"deg)","-moz-transform":"rotate("+parseInt(angle)+"deg)","-ms-transform":"rotate("+parseInt(angle)+"deg)","-o-transform":"rotate("+parseInt(angle)+"deg)",filter:"progid:DXImageTransform.Microsoft.Matrix(M11 = "+M11+",M12 = -"+M12+",M21 = "+M21+",M22 = "+M22+',sizingMethod = "auto expand");',"-ms-transform":"progid:DXImageTransform.Microsoft.Matrix(M11 = "+M11+",M12 = -"+M12+",M21 = "+M21+",M22 = "+M22+',SizingMethod = "auto expand");'};return rotationStyle}function cleanValue(value){if(typeof value==="string"){if(value.toLowerCase().indexOf("px")==-1){return value+"px"}else{return value}}else{return value+"px"}}function cleanSyntax(val){if(val.indexOf("px")!=-1){return true}else if(parseInt(val)==0){return true}return false}function cssSyntax(val,position){if(!val)val="0px";var value=val,arrVal=value.split(" "),counter=0,top,right,bottom,left,returnVal;for(i=0;i<arrVal.length;i++){if(cleanSyntax(arrVal[i])){counter++}}if(counter==arrVal.length){for(i=0;i<arrVal.length;i++){switch(i){case 0:top=arrVal[i];break;case 1:right=arrVal[i];break;case 2:bottom=arrVal[i];break;case 3:left=arrVal[i];break}}switch(arrVal.length){case 1:right=bottom=left=top;break;case 2:bottom=top;left=right;break;case 3:left=right;break}if(position=="undefined"||position==""||position==null){console.log("Please define margin position (top, right, bottom, left)");return false}else{switch(position){case"top":returnVal=top;break;case"right":returnVal=right;break;case"bottom":returnVal=bottom;break;case"left":returnVal=left;break}}return returnVal}else{console.log("Please check your margin syntax..");return false}}function setCookie(c_name,value,exdays){var exdate=new Date;exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+(exdays==null?"":"; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value}function getCookie(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y)}}}function isLastStep(){return _index==_activeWalkthrough.steps.length-1}function isFirstStep(){return _index===0}$(document).on("click","#jpwClose, #jpwFinish",onClose);$(document).on("click","#jpwNext",function(){$.pagewalkthrough("next")});$(document).on("click","#jpwPrevious",function(){$.pagewalkthrough("prev")});$(document).on("mousedown","#jpwTooltip #drag-area",function(e){if(!$(this).hasClass("draggable-area")){return}if(!$(this).hasClass("draggable")){$(this).addClass("draggable").css("cursor","move")}var z_idx=$(this).css("z-index"),drg_h=$(this).outerHeight(),drg_w=$(this).outerWidth(),pos_y=$(this).offset().top+drg_h*2-e.pageY-10,pos_x=e.pageX-$(this).offset().left+drg_w-($(this).parent().outerWidth()+drg_w)+20;$(document).on("mousemove",function(e){$(".draggable").parent().offset({top:e.pageY+pos_y-drg_h,left:e.pageX+pos_x-drg_w}).on("mouseup",function(){$(this).children("#tooltipWrapper").removeClass("draggable").css({"z-index":z_idx,cursor:"default"})})});e.preventDefault()});$(document).on("mouseup","#jpwTooltip #drag-area",function(){$(this).removeClass("draggable").css("cursor","default")});$.pagewalkthrough=$.fn.pagewalkthrough=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){methods.init.apply(this,arguments);if(_hasDefault&&_counter<2){setTimeout(function(){methods.renderOverlay()},500)}}else{$.error("Method "+method+" does not exist on jQuery.pagewalkthrough")}};$.fn.pagewalkthrough.defaults={steps:[{wrapper:"",margin:0,popup:{content:"",type:"modal",position:"top",offsetHorizontal:0,offsetVertical:0,width:"320",draggable:false,contentRotation:0},overlay:true,accessible:false,autoScroll:true,scrollSpeed:1e3,stayFocus:false,onLeave:null,onEnter:null}],name:null,onLoad:true,onBeforeShow:null,onAfterShow:null,onRestart:null,onClose:null,onCookieLoad:null,buttons:{jpwClose:{i18n:"Click here to close",show:true},jpwNext:{i18n:"Next &rarr;",show:function(){return!isLastStep()}},jpwPrevious:{i18n:"&larr; Previous",show:function(){return!isFirstStep()}},jpwFinish:{i18n:"Finish &#10004;",show:function(){return isLastStep()}}}}})(jQuery,window,document);